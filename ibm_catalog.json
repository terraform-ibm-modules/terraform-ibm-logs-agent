{
  "products": [
    {
      "label": "Cloud automation for Logs Agent",
      "name": "deploy-arch-ibm-logs-agent",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "logging",
        "logging_monitoring",
        "platform_engineering"
      ],
      "keywords": [
        "logs",
        "agent",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution"
      ],
      "provider_name": "IBM",
      "short_description": "Automates the installation of the IBM Logs Agent on a Red Hat OpenShift Cluster or Kubernetes Service",
      "long_description": "The Cloud Automation for the [Logs Agent](https://cloud.ibm.com/docs/cloud-logs?topic=cloud-logs-agent-about) on a Red Hat OpenShift cluster or Kubernetes Service simplifies the configuration process, enabling the agent to collect and forward infrastructure and application logs directly to an IBM Cloud Logs instance.\n\nℹ️ This Terraform-based automation is part of a broader suite of IBM-maintained Infrastructure as Code (IaC) assets, each following the naming pattern \"Cloud automation for *servicename*\" and focusing on single IBM Cloud service. These single-service deployable architectures can be used on their own to streamline and automate service deployments through an [IaC approach](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-understanding-projects), or assembled together into a broader [automated IaC stack](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-config-stack) to automate the deployment of an end-to-end solution architecture.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-logs-agent/blob/main/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-logs-agent/refs/heads/main/images/logs-icon.svg",
      "features": [
        {
          "title": "Logs Agent",
          "description": "Deploys the IBM Logs Agent on a [Red Hat OpenShift Cluster](https://cloud.ibm.com/docs/openshift) or [Kubernetes Service](https://cloud.ibm.com/docs/containers?topic=containers-getting-started)."
        },
        {
          "title": "Trusted Profile",
          "description": "Creates a trusted profile with Sender Role access to Cloud Logs for the provided cluster if existing trusted profile ID is not provided and IAM mode is TrustedProfile."
        }
      ],
      "flavors": [
        {
          "label": "Fully configurable",
          "name": "fully-configurable",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "iam_permissions": [
            {
              "service_name": "containers-kubernetes",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "Required to create and edit Logs Agent related resources. Editor access is required only if you are provisioning cluster."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "service_name": "logs",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create an instance of Cloud Logs."
            },
            {
              "service_name": "logs-router",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "notes": "[Optional] Required for configuring Cloud Logs routing."
            },
            {
              "service_name": "sysdig-monitor",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create an instance of Cloud Monitoring."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-secure",
              "notes": "[Optional] Required for creating and managing SCC Workload Protection instance."
            },
            {
              "service_name": "iam-identity",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "notes": "[Optional] Required to create the containers-kubernetes-key needed by the OpenShift cluster on IBM Cloud."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "All Identity and Access enabled services",
              "notes": "[Optional] Required to to create trusted profile for App Configuration aggregator which is used for compliance scanning."
            },
            {
              "service_name": "is.vpc",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "notes": "[Optional] Required for creating Virtual Private Cloud (VPC)."
            },
            {
              "service_name": "cloud-object-storage",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create Cloud Object Storage (COS) Instance."
            },
            {
              "service_name": "hs-crypto",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if KMS encryption is enabled and IBM Hyper Protect Crypto Services is used to encrypt the Kubernetes Secrets and Object Storage bucket."
            },
            {
              "service_name": "kms",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if Key Protect is used for encryption for Kubernetes Secrets and Object Storage bucket."
            },
            {
              "service_name": "atracker",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to set up Activity Tracker event routing of auditing events."
            },
            {
              "service_name": "secrets-manager",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "notes": "[Optional] Required when enabling the Secrets Manager integration for the cluster."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "apprapp",
              "notes": "[Optional] Required for provisioning the App Configuration instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "event-notifications",
              "notes": "[Optional] Required when enabling the Event Notifications integration for secrets manager."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to use IBM secure by default standards, but can be edited to fit your use case."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-logs-agent/refs/heads/main/reference-architectures/deployable-architecture-logs-agent.svg",
                  "caption": "Logs Agent topology",
                  "type": "image/svg+xml"
                },
                "description": "<b>Logs Agent</b> can be deployed on a Red Hat OpenShift cluster or a Kubernetes service to collect, process, and forward application and system logs to a [IBM Cloud Logs instance](https://cloud.ibm.com/docs/cloud-logs). This setup is essential for achieving comprehensive observability, supporting both real-time monitoring and historical analysis of workloads running within the cluster."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key",
              "required": true
            },
            {
              "key": "prefix",
              "required": true,
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters.",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              },
              "default_value": "Default",
              "description": "The name of an existing resource group to provision the resources. [Learn more](https://cloud.ibm.com/docs/account?topic=account-rgs&interface=ui#create_rgs) about how to create a resource group.",
              "virtual": true
            },
            {
              "key": "cluster_id",
              "display_name": "cluster",
              "custom_config": {
                "type": "cluster_var",
                "grouping": "deployment",
                "original_grouping": "deployment"
              },
              "required": true
            },
            {
              "key": "cluster_resource_group_id",
              "display_name": "cluster_resource_group",
              "required": true,
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_id"
                }
              }
            },
            {
              "key": "is_vpc_cluster",
              "required": true
            },
            {
              "key": "is_ocp_cluster",
              "required": true
            },
            {
              "key": "region",
              "type": "string",
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "description": "Region in which Cloud Logs instance or OpenShift Cluster will be deployed. [Learn More](https://terraform-ibm-modules.github.io/documentation/#/region).",
              "virtual": true,
              "required": true,
              "default_value": "us-south"
            },
            {
              "key": "cloud_logs_ingress_endpoint",
              "required": true
            },
            {
              "key": "cloud_logs_ingress_port",
              "required": true
            },
            {
              "key": "logs_agent_trusted_profile_id",
              "required": true
            },
            {
              "key": "logs_agent_name"
            },
            {
              "key": "logs_agent_namespace"
            },
            {
              "key": "logs_agent_chart"
            },
            {
              "key": "logs_agent_chart_location"
            },
            {
              "key": "logs_agent_chart_version"
            },
            {
              "key": "logs_agent_image_version"
            },
            {
              "key": "logs_agent_init_image_version"
            },
            {
              "key": "logs_agent_resources"
            },
            {
              "key": "logs_agent_system_logs",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "logs_agent_additional_metadata",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "logs_agent_exclude_log_source_paths",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "logs_agent_iam_mode",
              "options": [
                {
                  "displayname": "Trusted Profile",
                  "value": "TrustedProfile"
                },
                {
                  "displayname": "IAM API Key",
                  "value": "IAMAPIKey"
                }
              ]
            },
            {
              "key": "logs_agent_iam_api_key"
            },
            {
              "key": "logs_agent_iam_environment",
              "options": [
                {
                  "displayname": "Production",
                  "value": "Production"
                },
                {
                  "displayname": "Private Production",
                  "value": "PrivateProduction"
                },
                {
                  "displayname": "Staging",
                  "value": "Staging"
                },
                {
                  "displayname": "Private Staging",
                  "value": "PrivateStaging"
                }
              ]
            },
            {
              "key": "logs_agent_log_source_namespaces",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "enable_annotations"
            },
            {
              "key": "max_unavailable"
            },
            {
              "key": "log_filters",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "logs_agent_selected_log_source_paths"
            },
            {
              "key": "logs_agent_tolerations",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "cluster_config_endpoint_type",
              "options": [
                {
                  "displayname": "Default",
                  "value": "default"
                },
                {
                  "displayname": "Private",
                  "value": "private"
                },
                {
                  "displayname": "VPE",
                  "value": "vpe"
                },
                {
                  "displayname": "Link",
                  "value": "link"
                }
              ]
            },
            {
              "key": "wait_till",
              "options": [
                {
                  "displayname": "Master Node Ready",
                  "value": "MasterNodeReady"
                },
                {
                  "displayname": "One Worker Node Ready",
                  "value": "OneWorkerNodeReady"
                },
                {
                  "displayname": "Ingress Ready",
                  "value": "IngressReady"
                },
                {
                  "displayname": "Normal",
                  "value": "Normal"
                }
              ]
            },
            {
              "key": "wait_till_timeout"
            },
            {
              "key": "enable_multiline"
            },
            {
              "key": "cluster_name",
              "type": "string",
              "required": true,
              "virtual": true,
              "default_value": "openshift",
              "description": "The name of the OpenShift Cluster."
            },
            {
              "key": "openshift_version",
              "type": "string",
              "required": true,
              "virtual": true,
              "default_value": "4.18",
              "options": [
                {
                  "displayname": "4.18",
                  "value": "4.18"
                },
                {
                  "displayname": "4.17",
                  "value": "4.17"
                },
                {
                  "displayname": "4.16",
                  "value": "4.16"
                }
              ],
              "description": "The version of the OpenShift Cluster."
            },
            {
              "key": "default_worker_pool_machine_type",
              "required": true,
              "virtual": true,
              "default_value": "bx2.8x32",
              "options": [
                {
                  "displayname": "bx2.16x64",
                  "value": "bx2.16x64"
                },
                {
                  "displayname": "bx2.32x128",
                  "value": "bx2.32x128"
                },
                {
                  "displayname": "bx2.48x192",
                  "value": "bx2.48x192"
                },
                {
                  "displayname": "bx2.8x32",
                  "value": "bx2.8x32"
                },
                {
                  "displayname": "bx3d.128x640",
                  "value": "bx3d.128x640"
                },
                {
                  "displayname": "bx3d.16x80",
                  "value": "bx3d.16x80"
                },
                {
                  "displayname": "bx3d.24x120",
                  "value": "bx3d.24x120"
                },
                {
                  "displayname": "bx3d.32x160",
                  "value": "bx3d.32x160"
                },
                {
                  "displayname": "bx3d.48x240",
                  "value": "bx3d.48x240"
                },
                {
                  "displayname": "bx3d.64x320",
                  "value": "bx3d.64x320"
                },
                {
                  "displayname": "bx3d.8x40",
                  "value": "bx3d.8x40"
                },
                {
                  "displayname": "bx3d.96x480",
                  "value": "bx3d.96x480"
                },
                {
                  "displayname": "cx2.16x32",
                  "value": "cx2.16x32"
                },
                {
                  "displayname": "cx2.32x64",
                  "value": "cx2.32x64"
                },
                {
                  "displayname": "cx2.48x96",
                  "value": "cx2.48x96"
                },
                {
                  "displayname": "cx3d.128x320",
                  "value": "cx3d.128x320"
                },
                {
                  "displayname": "cx3d.16x40",
                  "value": "cx3d.16x40"
                },
                {
                  "displayname": "cx3d.24x60",
                  "value": "cx3d.24x60"
                },
                {
                  "displayname": "cx3d.32x80",
                  "value": "cx3d.32x80"
                },
                {
                  "displayname": "cx3d.48x120",
                  "value": "cx3d.48x120"
                },
                {
                  "displayname": "cx3d.64x160",
                  "value": "cx3d.64x160"
                },
                {
                  "displayname": "cx3d.96x240",
                  "value": "cx3d.96x240"
                },
                {
                  "displayname": "mx2.128x1024",
                  "value": "mx2.128x1024"
                },
                {
                  "displayname": "mx2.16x128",
                  "value": "mx2.16x128"
                },
                {
                  "displayname": "mx2.32x256",
                  "value": "mx2.32x256"
                },
                {
                  "displayname": "mx2.48x384",
                  "value": "mx2.48x384"
                },
                {
                  "displayname": "mx2.64x512",
                  "value": "mx2.64x512"
                },
                {
                  "displayname": "mx2.8x64",
                  "value": "mx2.8x64"
                },
                {
                  "displayname": "mx3d.128x1280",
                  "value": "mx3d.128x1280"
                },
                {
                  "displayname": "mx3d.24x240",
                  "value": "mx3d.24x240"
                },
                {
                  "displayname": "mx3d.32x320",
                  "value": "mx3d.32x320"
                },
                {
                  "displayname": "mx3d.48x480",
                  "value": "mx3d.48x480"
                },
                {
                  "displayname": "mx3d.64x640",
                  "value": "mx3d.64x640"
                },
                {
                  "displayname": "mx3d.96x960",
                  "value": "mx3d.96x960"
                },
                {
                  "displayname": "bx2d.metal.96x384 (Only available in Toronto (ca-tor))",
                  "value": "bx2d.metal.96x384"
                },
                {
                  "displayname": "cx2d.metal.96x192 (Only available in Toronto (ca-tor)) ",
                  "value": "cx2d.metal.96x192"
                },
                {
                  "displayname": "mx2d.metal.96x768 (Only available in Toronto (ca-tor))) ",
                  "value": "mx2d.metal.96x768"
                },
                {
                  "displayname": "mx2.16x128.2000gb (Not available in Sao Paulo (br-sao), Montreal (ca-mon), Madrid (eu-es), Osaka (jp-osa))",
                  "value": "mx2.16x128.2000gb"
                },
                {
                  "displayname": "ox2.128x1024 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.128x1024"
                },
                {
                  "displayname": "ox2.16x128 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.16x128"
                },
                {
                  "displayname": "ox2.32x256 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.32x256"
                },
                {
                  "displayname": "ox2.64x512 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.64x512"
                },
                {
                  "displayname": "ox2.8x64 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.8x64"
                },
                {
                  "displayname": "ox2.96x768 (Not available in Sao Paulo (br-sao), Montreal (ca-mon))",
                  "value": "ox2.96x768"
                }
              ],
              "description": "The machine type for worker nodes.[Learn more](https://cloud.ibm.com/docs/openshift?topic=openshift-vpc-flavors)."
            },
            {
              "key": "default_worker_pool_workers_per_zone",
              "required": true,
              "virtual": true,
              "type": "number",
              "default_value": 1,
              "description": "Number of worker nodes in each zone of the cluster."
            },
            {
              "key": "default_worker_pool_operating_system",
              "required": true,
              "virtual": true,
              "type": "string",
              "default_value": "RHCOS",
              "options": [
                {
                  "displayname": "RHEL 9",
                  "value": "RHEL_9_64"
                },
                {
                  "displayname": "Red Hat CoreOS",
                  "value": "RHCOS"
                },
                {
                  "displayname": "RHEL 8",
                  "value": "REDHAT_8_64"
                }
              ],
              "description": "The operating system installed on the worker nodes. [Learn more](https://cloud.ibm.com/docs/openshift?topic=openshift-vpc-flavors)."
            },
            {
              "key": "allow_public_access_to_cluster_management",
              "type": "boolean",
              "required": true,
              "virtual": true,
              "default_value": true,
              "description": "Set to true to access the cluster through a public cloud service endpoint. [Learn More](https://cloud.ibm.com/docs/openshift?topic=openshift-access_cluster)."
            },
            {
              "key": "allow_outbound_traffic",
              "type": "boolean",
              "required": true,
              "virtual": true,
              "default_value": true,
              "description": "Set to true to allow public outbound access from the cluster workers."
            },
            {
              "key": "subnets",
              "type": "object",
              "default_value": "{\n    zone-1 = [\n      {\n        name           = \"subnet-a\"\n        cidr           = \"10.10.10.0/24\"\n        public_gateway = true\n        acl_name       = \"vpc-acl\"\n        no_addr_prefix = false\n      }\n    ],\n    zone-2 = [\n      {\n        name           = \"subnet-b\"\n        cidr           = \"10.20.10.0/24\"\n        public_gateway = true\n        acl_name       = \"vpc-acl\"\n        no_addr_prefix = false\n      }\n    ],\n    zone-3 = [\n      {\n        name           = \"subnet-c\"\n        cidr           = \"10.30.10.0/24\"\n        public_gateway = true\n        acl_name       = \"vpc-acl\"\n        no_addr_prefix = false\n      }\n    ]\n  }",
              "description": "List of subnets for the vpc. For each item in each array, a subnet will be created. Items can be either CIDR blocks or total ipv4 addresses. Public gateways will be enabled only in zones where a gateway has been created. [Learn more](https://github.com/terraform-ibm-modules/terraform-ibm-landing-zone-vpc/blob/main/solutions/fully-configurable/DA-types.md#subnets-).",
              "required": false,
              "hidden": true,
              "virtual": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "code_editor"
              }
            },
            {
              "key": "network_acls",
              "type": "list(object)",
"[\n  { name                         = \"vpc-acl\"\n    add_ibm_cloud_internal_rules = true\n    add_vpc_connectivity_rules   = true\n    prepend_ibm_rules            = true\n    rules = [\n      {\n        name      = \"allow-all-443-inbound-1\"\n        action    = \"allow\"\n        direction = \"inbound\"\n        tcp = {\n          source_port_min = 443\n          source_port_max = 443\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-443-inbound-2\"\n        action    = \"allow\"\n        direction = \"inbound\"\n        tcp = {\n          port_min = 443\n          port_max = 443\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-80-inbound\"\n        action    = \"allow\"\n        direction = \"inbound\"\n        tcp = {\n          source_port_min = 80\n          source_port_max = 80\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-ingress-inbound\"\n        action    = \"allow\"\n        direction = \"inbound\"\n        tcp = {\n          source_port_min = 30000\n          source_port_max = 32767\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-443-outbound-1\"\n        action    = \"allow\"\n        direction = \"outbound\"\n        tcp = {\n          port_min = 443\n          port_max = 443\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-443-outbound-2\"\n        action    = \"allow\"\n        direction = \"outbound\"\n        tcp = {\n          port_min = 443\n          port_max = 443\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-80-outbound\"\n        action    = \"allow\"\n        direction = \"outbound\"\n        tcp = {\n          port_min = 80\n          port_max = 80\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      },\n      {\n        name      = \"allow-all-ingress-outbound\"\n        action    = \"allow\"\n        direction = \"outbound\"\n        tcp = {\n          port_min = 30000\n          port_max = 32767\n        }\n        destination = \"0.0.0.0/0\"\n        source      = \"0.0.0.0/0\"\n      }\n    ]\n  }\n]",
              "description": "The list of ACLs to create. Provide at least one rule for each ACL. [Learn more](https://github.com/terraform-ibm-modules/terraform-ibm-landing-zone-vpc/blob/main/solutions/fully-configurable/DA-types.md#network-acls-).",
              "required": false,
              "virtual": true,
              "hidden": true,
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "secrets_manager_service_plan",
              "type": "string",
              "required": true,
              "virtual": true,
              "default_value": "standard",
              "options": [
                {
                  "displayname": "Standard",
                  "value": "standard"
                },
                {
                  "displayname": "Trial",
                  "value": "trial"
                }
              ],
              "description": "The pricing plan to use when provisioning a Secrets Manager instance for centrally managing ingress certificates for OpenShift cluster. Possible values: `standard`, `trial`. You can create only one Trial instance of Secrets Manager per account. Before you can create a new Trial instance, you must delete the existing Trial instance and its reclamation. [Learn more](https://cloud.ibm.com/docs/secrets-manager?topic=secrets-manager-create-instance&interface=ui#upgrade-instance-standard)."
            },
            {
              "key": "enable_platform_metrics",
              "type": "boolean",
              "default_value": false,
              "description": "When set to `true`, the IBM Cloud Monitoring instance will be configured to collect platform metrics from the provided region. ⚠️ You can configure 1 instance only of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance has already been configured. You may not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true,
              "options": [
                {
                  "displayname": "true",
                  "value": "true"
                },
                {
                  "displayname": "false",
                  "value": "false"
                }
              ]
            },
            {
              "key": "logs_routing_tenant_regions",
              "type": "array",
              "default_value": [],
              "description": "To manage platform logs that are generated by IBM Cloud services in a region of IBM Cloud, you must create a tenant in each region that you operate. Pass a list of regions to create a tenant in. For example: [\"us-south\", \"us-east\"]. [Learn more](https://cloud.ibm.com/docs/logs-router?topic=logs-router-about-platform-logs).",
              "required": true,
              "virtual": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "provider_visibility",
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ],
              "hidden": true
            }
          ],
          "dependencies": [
            {
              "name": "deploy-arch-ibm-cloud-logs",
              "description": "Create IBM Cloud Logs Instance for storing and analysing platform and application logs .",
              "id": "63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global",
              "version": "v1.9.0",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_output": "cloud_logs_ingress_private_endpoint",
                  "version_input": "cloud_logs_ingress_endpoint"
                },
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-slz-ocp",
              "description": "Configure the Red Hat OpenShift cluster on which logs agent will be installed.",
              "catalog_id": "1082e7d2-5e2f-0a11-a3bc-f88a8e1931fc",
              "flavors": [
                "fully-configurable"
              ],
              "id": "95fccffc-ae3b-42df-b6d9-80be5914d852-global",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_output": "cluster_id",
                  "version_input": "cluster_id"
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_output": "resource_group_id",
                  "version_input": "cluster_resource_group_id"
                },
                {
                  "version_input": "is_vpc_cluster",
                  "value": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "default_worker_pool_machine_type",
                  "version_input": "default_worker_pool_machine_type",
                  "reference_version": true
                },
                {
                  "dependency_input": "default_worker_pool_workers_per_zone",
                  "version_input": "default_worker_pool_workers_per_zone",
                  "reference_version": true
                },
                {
                  "dependency_input": "default_worker_pool_operating_system",
                  "version_input": "default_worker_pool_operating_system",
                  "reference_version": true
                },
                {
                  "dependency_input": "allow_public_access_to_cluster_management",
                  "version_input": "allow_public_access_to_cluster_management",
                  "reference_version": true
                },
                {
                  "dependency_input": "allow_outbound_traffic",
                  "version_input": "allow_outbound_traffic",
                  "reference_version": true
                },
                {
                  "dependency_input": "cluster_config_endpoint_type",
                  "version_input": "cluster_config_endpoint_type",
                  "reference_version": true
                },
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                },
                {
                  "dependency_input": "secrets_manager_service_plan",
                  "version_input": "secrets_manager_service_plan",
                  "reference_version": true
                },
                {
                  "dependency_input": "subnets",
                  "version_input": "subnets",
                  "reference_version": true
                },
                {
                  "dependency_input": "network_acls",
                  "version_input": "network_acls",
                  "reference_version": true
                },
                {
                  "dependency_input": "cluster_name",
                  "version_input": "cluster_name",
                  "reference_version": true
                },
                {
                  "dependency_input": "openshift_version",
                  "version_input": "openshift_version",
                  "reference_version": true
                }
              ],
              "version": "v3.66.0"
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
